(function(){!function(a){var b,c,d,e;return b="field_validator"+ +new Date,c=function(){function c(a){this.opts=null!=a?a:{},this.$el=this.opts.$el,this.setupEvent_()}return c.prototype.hasRequested=!1,c.prototype.isValid=!1,c.prototype.prevValue="",c.prototype.setupEvent_=function(){var c=a.proxy(this.createValidateRequest_,this),d="keyup";this.$el.is("input[type='checkbox'],input[type='radio'],select")&&(d="change"),this.$el.on(d+"."+b,c)},c.prototype.sendValidateRequest=function(){var a,b;return a=this.opts,b=this.$el.val(),this.prevValue=b,this.hasRequested=!0,a.validate(this.validate(),b)},c.prototype.createValidateRequest_=function(){var b,c;return c=this.$el.val(),b=this.opts,c!==this.prevValue&&this.hasRequested===!1&&a.isFunction(b.validate)?this.sendValidateRequest():void 0},c.prototype.success_=function(a){var b;return null==a&&(a=null),b=this.opts,this.isValid=!0,b&&b.success&&b.success(a,this.$el)},c.prototype.error_=function(a){var b;return null==a&&(a=null),b=this.opts,this.isValid=!1,b&&b.error&&b.error(a,this.$el)},c.prototype.always_=function(){return this.hasRequested=!1,this.createValidateRequest_()},c.prototype.valid=function(){return this.isValid},c.prototype.validate=function(){var b,c,d,e;return c=a.Deferred(),e=a.proxy(this.success_,this),d=a.proxy(this.error_,this),b=a.proxy(this.always_,this),c.done(e),c.fail(d),c.always(b),c},c}(),e={hasValidator:function(a){var d;return d=a.data(b),d instanceof c?!0:!1},addValidator:function(a){var d;return d=new c(a),a.$el.data(b,d)},getValidator:function(a){return a.data(b)}},d={valid:function(b){var c;return c=!1,b.each(function(){var b,d;return b=a(this),e.hasValidator(b)?(d=e.getValidator(b),c=d.valid()):void 0}),c},validate:function(b){return b.each(function(){var b,c,d;return b=a(this),e.hasValidator(b)?(d=e.getValidator(b),c=d.sendValidateRequest()):void 0}),b},getNoValid:function(b){var c=a();return b.each(function(){var b,d;b=a(this),e.hasValidator(b)&&(d=e.getValidator(b),d.valid()||c.push(this))}),c}},a.fn.extend({fieldValidate:function(b){return"object"===a.type(b)?this.each(function(){var c;return c=a(this),e.hasValidator(c)?void 0:e.addValidator(a.extend(b,{$el:c}))}):"string"===a.type(b)?d[b](this):void 0}})}(jQuery)}).call(this);